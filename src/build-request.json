{
  "kind": "build_request",
  "title": "Revamp letter visuals to a heartfelt handwritten love-letter style + ensure 31s video playback UX",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-9",
      "text": "Update the Valentine letter UI visual design to feel like a heartfelt handwritten love letter: warm, soft colors; elegant romantic handwriting-style fonts; visually appealing cozy layout; gentle parchment/paper textures; and subtle decorative accents (tiny hearts or floral elements) across the front page, envelope/letter, message card, buttons, and video view.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "Make it look like a heartfelt love letter: warm, soft colors, elegant and romantic fonts, visually appealing layout, gentle textures like parchment or paper, subtle decorative elements like tiny hearts or floral accents, cozy and intimate aesthetic, inviting and personal tone. Focus on making it feel like it’s handwritten with love"
        ]
      },
      "acceptanceCriteria": [
        "Front page, envelope/opening view, message card, buttons, and video view all share a consistent warm/soft love-letter theme (no harsh/techy look).",
        "Message container(s) visually resemble paper/parchment (texture + paper-like shading) rather than a plain translucent white card.",
        "Typography reads as romantic/handwritten (title/message/script styles updated consistently) and remains readable on phone and desktop.",
        "Decorative elements (tiny hearts/floral accents) are subtle, non-distracting, and do not obstruct text or controls.",
        "All changes preserve responsiveness and touch-friendliness across common mobile and desktop sizes."
      ]
    },
    {
      "id": "REQ-10",
      "text": "Add static parchment/paper texture and subtle decorative accent artwork as generated image assets, store them under frontend/public/assets/generated, and render them in the UI to support the handwritten love-letter aesthetic (without using the backend to serve or transform images).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "gentle textures like parchment or paper, subtle decorative elements like tiny hearts or floral accents"
        ]
      },
      "acceptanceCriteria": [
        "New image assets are present under frontend/public/assets/generated and are referenced directly by the React UI.",
        "Texture usage is tasteful (low-contrast) and does not reduce legibility of any text.",
        "Accent illustrations are placed in a way that scales appropriately on small screens and do not overlap primary interactions (Yes/No buttons, upload button, Back button, video controls)."
      ]
    },
    {
      "id": "REQ-11",
      "text": "Ensure the video selection and playback flow clearly supports a user-provided ~31-second video: the UI should communicate that a short (e.g., 31s) video can be used, and the video playback should play with sound and end naturally (no forced looping).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-3"
        ],
        "quotes": [
          "i add the video here for 31 seconds"
        ]
      },
      "acceptanceCriteria": [
        "In the message view, the video upload control includes helper text indicating the selected short video (e.g., ~31 seconds) will play when “Yes” is clicked.",
        "When a user selects a video file and clicks “Yes”, the video auto-starts if allowed by the browser and is not intentionally muted by the app.",
        "The video element does not force loop; it reaches the end and stops naturally (user can replay via controls).",
        "If no video is selected, the video view continues to show a clear empty-state message and a way to go back and choose a video."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/components/ui (read-only shadcn components); compose them instead.",
    "Do not modify frontend immutable hook paths listed in SYSTEM_CONTEXT (e.g., useInternetIdentity/useActor/main.tsx).",
    "Keep backend as a single Motoko actor; no backend changes are required for these UI/design updates."
  ],
  "nonGoals": [
    "Adding backend storage or uploading videos to the backend (video remains local and used via object URL).",
    "Changing the existing core interaction flow (front page -> envelope opening -> message -> Yes/No -> video) beyond visual/UX refinements.",
    "Adding new authentication or Internet Identity requirements."
  ],
  "imageRequirements": {
    "required": [
      "Seamless parchment paper texture, warm cream tone with subtle fiber/grain (parchment-texture.dim_2000x2000.png)",
      "Tiny heart doodle accent, minimal line-art, warm red/rose (heart-doodle-accent.dim_256x256.png)",
      "Small floral corner accent, delicate line-art, warm rose/gold (floral-corner-accent.dim_512x512.png)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}